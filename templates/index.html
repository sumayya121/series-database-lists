{% extends 'layout.html' %}
{% block main %}
<form method="POST" action="/add">
    <input type="text" name="task" placeholder="Enter task" required>
    <select name="category_id" required>
        <option value="">Select category</option>
        {% for category in categories %}
        <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select>
    <button type="submit">Add</button>
</form>
<ul>
    {% for todo in todos %}
        <li>
            <a href="/toggle/{{ todo.id }}">{% if todo.done %}✅{% else %}⬜{% endif %}</a>
            {{ todo.task }} [{{ todo.category }}]
            <a href="/delete/{{ todo.id }}">❌</a>
        </li>
    {% endfor %}
</ul>
{% endblock %}